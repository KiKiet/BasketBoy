{"version":3,"sources":["file:///C:/Users/king/Documents/Bootcamp-AthenaStudio-TranGiaKiet/basket-boy/assets/scripts/trajectory.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","Vec3","PhysicsSystem2D","ccclass","property","Trajectory","Number","onLoad","showOrHide","prepareDots","i","dotsNum","dot","dotsPre","dotsPool","parent","dotsParent","updateDots","ballPos","forceApply","timeStamp","dotSpace","pos","x","y","instance","gravity","length","setPosition","boolean","active"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAwBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,e,OAAAA,e;;;;;;;OAE3E;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;4BAGaS,U,WADZF,OAAO,CAAC,YAAD,C,UAQHC,QAAQ,CAACE,MAAD,C,UAERF,QAAQ,CAAEN,IAAF,C,UAERM,QAAQ,CAAEL,MAAF,C,UAERK,QAAQ,CAAEE,MAAF,C,oCAdb,MACaD,UADb,SACgCR,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,uCAe3B,IAAII,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb,CAf2B;;AAAA;;AAAA,4CAiBrB,EAjBqB;;AAAA;AAAA;;AAmBtCM,QAAAA,MAAM,GAAI;AACN,eAAKC,UAAL,CAAgB,KAAhB;AACA,eAAKC,WAAL;AACH;;AACDA,QAAAA,WAAW,GAAE;AACT,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,OAAzB,EAAkCD,CAAC,EAAnC,EAAsC;AAClC,gBAAIE,GAAG,GAAGZ,WAAW,CAAC,KAAKa,OAAN,CAArB;AACA,iBAAKC,QAAL,CAAcJ,CAAd,IAAmBE,GAAnB;AACA,iBAAKE,QAAL,CAAcJ,CAAd,EAAiBK,MAAjB,GAA0B,KAAKC,UAA/B;AACH;AACJ;;AACDC,QAAAA,UAAU,CAACC,OAAD,EAAgBC,UAAhB,EAAgC;AACtC,eAAKC,SAAL,GAAiB,KAAKC,QAAtB;;AACA,eAAK,IAAIX,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAG,KAAKC,OAAvB,EAAgCD,CAAC,EAAjC,EAAoC;AAChC,iBAAKY,GAAL,CAASC,CAAT,GAAaJ,UAAU,CAACI,CAAX,GAAe,KAAKH,SAAjC;AACA,iBAAKE,GAAL,CAASE,CAAT,GAAaL,UAAU,CAACK,CAAX,GAAe,KAAKJ,SAApB,GAAiClB,eAAe,CAACuB,QAAhB,CAAyBC,OAAzB,CAAiCC,MAAjC,KAA4C,KAAKP,SAAjD,GAA6D,KAAKA,SAAnE,GAAgF,CAA7H;AACA,iBAAKN,QAAL,CAAcJ,CAAd,EAAiBkB,WAAjB,CAA6B,KAAKN,GAAL,CAASC,CAAT,GAAaL,OAAO,CAACK,CAAlD,EAAoD,KAAKD,GAAL,CAASE,CAAT,GAAaN,OAAO,CAACM,CAAzE;AACA,iBAAKJ,SAAL,IAAkB,KAAKC,QAAvB;AACH;AACJ;;AACDb,QAAAA,UAAU,CAAEqB,OAAF,EAAkB;AACxB,eAAKb,UAAL,CAAgBc,MAAhB,GAAyBD,OAAzB;AACH,SAzCqC,CA2CtC;AACA;AACA;;;AA7CsC,O;;;;;;;;;;;;;;;;;;;;;AAgD1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, Vec2, NodePool, instantiate, Vec3, PhysicsSystem2D } from 'cc';\nimport { Ball } from './ball';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = Trajectory\n * DateTime = Wed Feb 23 2022 19:35:16 GMT+0700 (Indochina Time)\n * Author = kingkiet25\n * FileBasename = trajectory.ts\n * FileBasenameNoExtension = trajectory\n * URL = db://assets/scripts/trajectory.ts\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\n *\n */\n \n@ccclass('Trajectory')\nexport class Trajectory extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n    @property(Number)\n    dotsNum: number;\n    @property (Node)\n    dotsParent: Node;\n    @property (Prefab)\n    dotsPre: Prefab;\n    @property (Number)\n    dotSpace: number;\n    pos:Vec3 = new Vec3(0,0,0);\n    timeStamp:number;\n    dotsPool: Node[]=[];\n    result:Vec2[] \n    onLoad () {\n        this.showOrHide(false);\n        this.prepareDots();\n    }\n    prepareDots(){\n        for (let i = 0; i < this.dotsNum; i++){\n            let dot = instantiate(this.dotsPre);\n            this.dotsPool[i] = dot;\n            this.dotsPool[i].parent = this.dotsParent;\n        }\n    }\n    updateDots(ballPos: Vec3, forceApply:Vec2){\n        this.timeStamp = this.dotSpace;\n        for (let i=0; i < this.dotsNum; i++){\n            this.pos.x = forceApply.x * this.timeStamp;\n            this.pos.y = forceApply.y * this.timeStamp - (PhysicsSystem2D.instance.gravity.length() * this.timeStamp * this.timeStamp) / 2;\n            this.dotsPool[i].setPosition(this.pos.x + ballPos.x,this.pos.y + ballPos.y);\n            this.timeStamp += this.dotSpace;\n        }\n    }\n    showOrHide (boolean:boolean){\n        this.dotsParent.active = boolean;\n    }\n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}